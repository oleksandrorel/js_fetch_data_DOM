{"version":3,"sources":["scripts/main.js"],"names":["BASE_URL","request","url","fetch","then","response","ok","setTimeout","Promise","reject","Error","status","statusText","json","result","makeList","arr","list","document","createElement","forEach","el","insertAdjacentHTML","name","body","append","phonesWithDetails","getPhones","all","map","phone","getDetailsOfPhone","id","phoneId","console","log","catch","error","warn"],"mappings":";AAAA,aAEA,IAAMA,EAAN,4DAIMC,EAAU,SAACC,GACRC,OAAAA,MAASH,GAAAA,OAAAA,GAAWE,OAAAA,IACxBE,KAAK,SAAAC,GASGA,OARFA,EAASC,IACZC,WAAW,WACTC,QAAQC,OAAO,IAAIC,MACjBL,eAAAA,OAAAA,EAASM,OAAYN,OAAAA,OAAAA,EAASO,WADhC,mBAGC,KAGEP,EAASQ,SAEjBT,KAAK,SAAAU,GAAUA,OAAAA,KAGpB,SAASC,EAASC,GACVC,IAAAA,EAAOC,SAASC,cAAtB,MAEAH,EAAII,QAAQ,SAAAC,GACVJ,EAAKK,mBACCD,aAAAA,aAAAA,OAAAA,EAAGE,KADT,kBAKFL,SAASM,KAAKC,OAAOR,GAGvB,IAAMS,EAAoB,WACjBC,OAAAA,IACJvB,KAAK,SAAAU,GAAUN,OAAAA,QAAQoB,IACtBd,EAAOe,IAAI,SAAAC,GAASC,OAAAA,EAAkBD,EAAME,UAK5CL,EAAY,WAAM1B,OAAAA,EAAN,iBACZ8B,EAAoB,SAACE,GAAYhC,OAAAA,EAAmBgC,WAAAA,OAAAA,EAAhC,WAE1BN,IACGvB,KAAK,SAAAU,GACJoB,QAAQC,IAAuBrB,kBAAAA,GAC/BC,EAASD,KAEVsB,MAAM,SAAAC,GAASH,OAAAA,QAAQI,KAAeD,SAAAA,KAEzCX,IACGtB,KAAK,SAAAU,GAAUoB,OAAAA,QAAQC,IAA4BrB,uBAAAA,KACnDsB,MAAM,SAAAC,GAASH,OAAAA,QAAQC,IAAcE,SAAAA","file":"main.889f3e29.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst BASE_URL = `https://mate-academy.github.io/phone-catalogue-static/api`;\n// const detailUrl = `https://mate-academy.github.io/phone-catalogue-static/api\n// /phones/:phoneId.json`;\n\nconst request = (url) => {\n  return fetch(`${BASE_URL}${url}`)\n    .then(response => {\n      if (!response.ok) {\n        setTimeout(() => {\n          Promise.reject(new Error(`\n          ${response.status} - ${response.statusText}\n          `));\n        }, 5000);\n      }\n\n      return response.json();\n    })\n    .then(result => result);\n};\n\nfunction makeList(arr) {\n  const list = document.createElement(`ul`);\n\n  arr.forEach(el => {\n    list.insertAdjacentHTML(`afterbegin`, `\n    <li>${el.name}</li>\n    `);\n  });\n\n  document.body.append(list);\n}\n\nconst phonesWithDetails = () => {\n  return getPhones()\n    .then(result => Promise.all(\n      result.map(phone => getDetailsOfPhone(phone.id)\n      )\n    ));\n};\n\nconst getPhones = () => request(`/phones.json`);\nconst getDetailsOfPhone = (phoneId) => request(`/phones/${phoneId}.json`);\n\ngetPhones()\n  .then(result => {\n    console.log(`List of phones:`, result);\n    makeList(result);\n  })\n  .catch(error => console.warn(`Error:`, error));\n\nphonesWithDetails()\n  .then(result => console.log(`Phones with details:`, result))\n  .catch(error => console.log(`Error:`, error));\n"]}